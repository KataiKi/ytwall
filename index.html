<html>
<head>
<style>
    body {
		margin: 0;
	}
	#overlay {
		position: absolute;
		width:100%;
		height:100%;
		z-index:2;
	}		
</style>

</head>

<body>
<div id="overlay"></div>
<div id="player"></div>
                    <script>
                      var tag = document.createElement('script');
                      tag.src = "https://www.youtube.com/iframe_api";
                      var firstScriptTag = document.getElementsByTagName('script')[0];
                      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                      var player;
                      function onYouTubeIframeAPIReady() {
                        player = new YT.Player('player', {
                            videoId: (new URL(window.location.href)).searchParams.get("v"),
							width: '100%',
							height: '100%',
                            playerVars: {
                                modestbranding: 0,
                                autoplay: 1,
                                controls: 0,
                                showinfo: 0,
                                wmode: 'transparent',
                                branding: 0,
								mute: 1,
                                rel: 0,
                                autohide: 0,
                                origin: window.location.origin
                            },
                            events: {
                                'onReady': onPlayerReady,
                                'onStateChange': onPlayerStateChange
                            }
                          });
                        }
                        function onPlayerReady(event) {
                            event.target.playVideo();
							console.log("Ready");
                        }
                        function onPlayerStateChange(event) {
						    var YTP=event.target;
						    if(event.data===1){
								var remains=YTP.getDuration() - YTP.getCurrentTime();
								if(this.rewindTO)
									clearTimeout(this.rewindTO);
								this.rewindTO=setTimeout(function(){
									 YTP.seekTo(0);
								 },(remains-0.1)*1000);
							}
                        }
                    </script>
</body>
</html>
